:root {
  --yellow: #FFD90F;
  --blue: #4A90E2;
  --dark: #222;
  --card: #fff6c9;
  --red: #E53935;
  --green: #2ecc71;
}
* { box-sizing: border-box; }
body {
  margin: 0;
  padding: 10px;
  font-family: "Luckiest Guy", system-ui, sans-serif;
  background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
  color: #fff;
  text-align: center;
  min-height: 100vh;
}
h1 {
  font-size: 32px;
  margin: 10px 0;
  text-shadow: 2px 2px 0 #000;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
}
.cat-icon {
  width: 40px;
  height: 40px;
  display: inline-block;
}
.main-card {
  background: rgba(255,255,255,0.1);
  border-radius: 20px;
  padding: 15px;
  max-width: 800px;
  margin: 0 auto;
  border: 3px solid rgba(255,255,255,0.2);
}
.video-wrapper {
  position: relative;
  display: inline-block;
  width: 100%;
  max-width: 640px;
}
#videoStream {
  width: 100%;
  border-radius: 10px;
  border: 3px solid #000;
  background: #000;
}
.crosshair-canvas {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  border-radius: 10px;
  pointer-events: none;
}
.camera-row {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
  margin-bottom: 6px;
}
.actions-bar {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 16px;
  flex-wrap: wrap;
  margin: 12px 0 4px;
}
.alert-group {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
}
.alert-cfg {
  display: flex;
  flex-direction: column;
  gap: 4px;
  font-size: 11px;
  color: rgba(255,255,255,0.7);
}
.alert-cfg input {
  font-family: monospace;
  font-size: 11px;
  padding: 4px 6px;
  border-radius: 6px;
  border: 2px solid #000;
  background: rgba(255,255,255,0.15);
  color: #fff;
  width: 200px;
}
.alert-cfg input::placeholder { color: rgba(255,255,255,0.35); }
.arrow-pad {
  display: grid;
  grid-template-columns: repeat(3, 50px);
  grid-template-rows: repeat(3, 50px);
  gap: 5px;
  justify-content: center;
}
select {
  font-family: "Luckiest Guy", system-ui, sans-serif;
  font-size: 14px;
  padding: 8px;
  border-radius: 10px;
  border: 3px solid #000;
  background: white;
  cursor: pointer;
}
button {
  font-family: "Luckiest Guy", system-ui, sans-serif;
  font-size: 16px;
  padding: 10px 16px;
  border-radius: 12px;
  border: 3px solid #000;
  cursor: pointer;
  box-shadow: 0 3px 0 #000;
  transition: transform 0.05s ease;
}
button:active { transform: translateY(3px); box-shadow: 0 0 0 #000; }
button.blue { background: var(--blue); color: white; }
button.green { background: var(--green); color: #000; }
button.red { background: var(--red); color: white; }
button:disabled { opacity: 0.5; cursor: not-allowed; }

#videoWrapper:fullscreen {
  background: #000;
  display: flex;
  align-items: center;
  justify-content: center;
}
#videoWrapper:fullscreen img {
  max-width: 100%;
  max-height: 100%;
}
#iosFullscreen {
  display: none;
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: #000;
  z-index: 9999;
  align-items: center;
  justify-content: center;
}
#iosFullscreen.active { display: flex; }
#iosFullscreen img { max-width: 100%; max-height: 100%; }
#iosClose {
  position: absolute;
  top: 10px; right: 10px;
  background: var(--red);
  color: white;
  border: 3px solid #000;
  border-radius: 10px;
  padding: 10px 15px;
  font-family: "Luckiest Guy", system-ui, sans-serif;
  font-size: 16px;
  cursor: pointer;
}
.hidden { display: none !important; }
.alert-btn {
  background: #555;
  color: #aaa;
  font-size: 15px;
  padding: 12px 18px;
  border-radius: 14px;
  border: 3px solid #000;
  cursor: pointer;
  box-shadow: 0 4px 0 #000;
  transition: background 0.2s, color 0.2s, transform 0.05s;
}
.alert-btn:active { transform: translateY(4px); box-shadow: 0 0 0 #000; }
.alert-btn.alerting {
  background: #e53935;
  color: #fff;
  animation: alert-pulse 1.2s ease-in-out infinite;
}
@keyframes alert-pulse {
  0%, 100% { box-shadow: 0 4px 0 #000, 0 0 0px rgba(229,57,53,0); }
  50%       { box-shadow: 0 4px 0 #000, 0 0 16px rgba(229,57,53,0.8); }
}

/* ---- D-pad + FIRE ---- */
.controls-row {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 32px;
  margin: 14px 0 6px;
  flex-wrap: wrap;
}
.dpad {
  display: grid;
  grid-template-columns: repeat(3, 52px);
  grid-template-rows: repeat(3, 52px);
  gap: 4px;
}
.dpad-btn {
  width: 52px;
  height: 52px;
  font-size: 22px;
  padding: 0;
  border-radius: 10px;
  border: 3px solid #000;
  cursor: pointer;
  box-shadow: 0 4px 0 #000;
  transition: transform 0.05s ease;
  background: #4A90E2;
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
}
.dpad-btn:active { transform: translateY(4px); box-shadow: 0 0 0 #000; }
.dpad-btn.center-btn {
  background: #2ecc71;
  border-color: #000;
  color: #fff;
  cursor: pointer;
  font-size: 20px;
}
.dpad-btn.center-btn:active { transform: translateY(4px); box-shadow: 0 0 0 #000; }
.dpad-empty { width: 52px; height: 52px; }

/* Aircraft FIRE button */
.fire-wrap {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
}
.fire-guard {
  position: relative;
  width: 84px;
  height: 84px;
}
/* Safety guard arc */
.fire-guard::before {
  content: "";
  position: absolute;
  inset: -8px;
  border-radius: 50%;
  border: 5px solid #ff9800;
  border-bottom-color: transparent;
  border-left-color: transparent;
  transform: rotate(-45deg);
  pointer-events: none;
  box-shadow: 0 0 8px rgba(255,152,0,0.6);
}
.fire-btn {
  width: 84px;
  height: 84px;
  border-radius: 50%;
  background: radial-gradient(circle at 35% 35%, #ff5252, #b71c1c);
  border: 4px solid #000;
  color: #fff;
  font-family: "Luckiest Guy", system-ui, sans-serif;
  font-size: 13px;
  letter-spacing: 1px;
  cursor: pointer;
  box-shadow: 0 6px 0 #7f0000, 0 0 20px rgba(255,82,82,0.5);
  transition: transform 0.05s ease, box-shadow 0.05s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  line-height: 1.1;
}
.fire-btn:active {
  transform: translateY(6px);
  box-shadow: 0 0 0 #7f0000, 0 0 28px rgba(255,82,82,0.9);
}
.fire-label {
  font-size: 10px;
  color: #ff9800;
  letter-spacing: 2px;
  text-transform: uppercase;
}
.fire-btn:disabled { opacity: 0.5; cursor: not-allowed; }
